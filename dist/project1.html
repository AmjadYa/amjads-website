<!-- File: project1.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Autonomous Mario Kart Robot</title>

  <!-- Immediately apply saved theme to avoid white flash -->
  <script>(function() {
    const storedThemeVars = localStorage.getItem('themeVariables');
    if (storedThemeVars) {
        const themeVars = JSON.parse(storedThemeVars);
        for(const varName in themeVars)document.documentElement.style.setProperty(varName, themeVars[varName]);
    }
})();

</script>

  <!-- CSS for header + project template -->
  <link rel="stylesheet" href="/index.9afb5835.css">
  <link rel="stylesheet" href="/project1.fde52b07.css">

  <!-- Theme Handler to maintain color logic across pages -->
  <script src="/index.9c6162f2.js" defer=""></script>
</head>

<body>
  <!-- Insert the shared header -->
  <div id="header-container"></div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-text">
      <h2>Autonomous Mario Kart Robot</h2>
      <p>
        A short overview about this project: This autonomous robot was built to...
      </p>
      <!-- Some resource links, if needed -->
      <div class="resource-links">
        <a href="#" target="_blank">GitHub Repo</a>
        <a href="#" target="_blank">Demo Video</a>
      </div>
    </div>
  </section>

  <!-- Table of Contents -->
  <nav class="table-of-contents" id="table-of-contents">
    <h3>Contents</h3>
    <ul>
      <li><a href="#section1">Hardware Setup</a></li>
      <li><a href="#section2">Software + Control</a></li>
      <li><a href="#section3">Challenges &amp; Results</a></li>
    </ul>
  </nav>

  <!-- Main Content Sections -->
  <main>
    <section id="section1" class="content-section">
      <h2>Hardware Setup</h2>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Phasellus laoreet, risus ac consectetur ultrices, sapien elit
        laoreet velit.
      </p>
      <div class="centered-image">
        <img src="/robot_on_zipline.23b69ddd.jpg" alt="An example image">
      </div>
    </section>

    <section id="section2" class="content-section">
      <h2>Software + Control</h2>
      <p>
        Another chunk of text goes here. Etiam bibendum pharetra eros,
        in rhoncus elit bibendum id.
      </p>
      <div class="centered-image">
        <img src="/exchange1.119fbdc9.jpg" alt="An example GIF">
      </div>
    </section>

    <section id="section3" class="content-section">
      <h2>Challenges &amp; Results</h2>
      <p>
        More descriptive text. Mauris sollicitudin dictum diam eget tempus.
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; 2024 Amjad Yaghi</p>
  </footer>

  <!-- Fetch the header.html and inject it -->
  <script>fetch('header.html').then((response)=>response.text()).then((data)=>{
    document.getElementById('header-container').innerHTML = data;
});

</script>

  <!-- ToC sticky logic -->
  <script>document.addEventListener("DOMContentLoaded", function() {
    const toc = document.getElementById("table-of-contents");
    const hero = document.querySelector(".hero");
    const sections = document.querySelectorAll("section.content-section");
    const links = toc.querySelectorAll("ul li a");
    // Show/hide ToC once hero is out of view
    const heroObserver = new IntersectionObserver((entries)=>{
        entries.forEach((entry)=>{
            if (!entry.isIntersecting) toc.classList.add("sticky");
            else toc.classList.remove("sticky");
        });
    }, {
        root: null,
        threshold: 0
    });
    heroObserver.observe(hero);
    // Highlight active section link in ToC
    const sectionObserver = new IntersectionObserver((entries)=>{
        entries.forEach((entry)=>{
            if (entry.isIntersecting) {
                // Remove active from all links
                links.forEach((link)=>link.classList.remove("active"));
                // Add active to the matching link
                const id = entry.target.getAttribute("id");
                const activeLink = toc.querySelector(`a[href="#${id}"]`);
                if (activeLink) activeLink.classList.add("active");
            }
        });
    }, {
        root: null,
        threshold: 0.6 /* adjust as needed */ 
    });
    sections.forEach((sec)=>sectionObserver.observe(sec));
});

</script>
<script src="/project1.aec5615f.js"></script></body>
</html>
